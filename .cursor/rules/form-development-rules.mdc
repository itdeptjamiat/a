# EchoReads Form Development Rules

## ğŸ§¾ Form Library Requirements

**ALL forms MUST use React Hook Form + Zod:**

```typescript
// âœ… CORRECT - Using FormProvider wrapper
import { FormProvider } from '@/form/FormProvider';
import { TextField } from '@/form/TextField';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

const schema = z.object({
  email: z.string().email('Invalid email address'),
  password: z.string().min(8, 'Password must be at least 8 characters'),
});

const LoginForm = () => {
  const methods = useForm({
    resolver: zodResolver(schema),
    defaultValues: {
      email: '',
      password: '',
    },
  });

  return (
    <FormProvider {...methods}>
      <TextField name="email" placeholder="Email" />
      <TextField name="password" placeholder="Password" secureTextEntry />
    </FormProvider>
  );
};

// âŒ INCORRECT - Custom form components
const CustomInput = ({ value, onChange }) => (
  <TextInput value={value} onChangeText={onChange} />
);
```

## ğŸ” Authentication Form Rules

- **Use FormProvider wrapper** from `/src/form/FormProvider.tsx`
- **Use TextField component** from `/src/form/TextField.tsx`
- **Use Zod schemas** for all validation
- **Use useForm hook** with zodResolver

## ğŸ“± Form Screen Requirements

- **Use ScreenWrapper with keyboardAvoidingView** for all form screens
- **Set appropriate keyboardOffset** for platform-specific behavior
- **Handle keyboard appearance** properly on both iOS and Android

## ğŸ¨ Theme Integration

- **All form components use theme system** via useTheme() hook
- **No hardcoded colors or spacing** in form components
- **Consistent styling** across all forms using theme values

## ğŸš« Prohibited Patterns

- âŒ No custom form components - use FormProvider and TextField
- âŒ No other form libraries - only React Hook Form + Zod
- âŒ No inline form validation - use Zod schemas
- âŒ No hardcoded styling - use theme system
- âŒ No direct TextInput usage - use TextField component

## âœ… Required Patterns

- âœ… Use FormProvider wrapper for all forms
- âœ… Use TextField component for all inputs
- âœ… Use Zod schemas for validation
- âœ… Use useForm with zodResolver
- âœ… Use ScreenWrapper with keyboardAvoidingView
- âœ… Use theme system for all styling

## ğŸ” Before Creating/Editing Forms

1. **Check existing form implementations** for patterns
2. **Use FormProvider and TextField components**
3. **Create Zod schemas for validation**
4. **Use ScreenWrapper with keyboard handling**
5. **Follow theme system for styling**

## ğŸ“š Form Documentation

- **Document all Zod schemas** with clear validation rules
- **Include error message examples** in schema definitions
- **Document form field requirements** and constraints
- **Provide usage examples** for complex forms

## ğŸ¯ Form Validation Standards

- **Use descriptive error messages** for user experience
- **Validate all required fields** with appropriate constraints
- **Handle edge cases** like empty strings and special characters
- **Provide real-time validation** where appropriate

Remember: All forms must use React Hook Form + Zod. Never create custom form components or use other validation libraries.
description:
globs:
alwaysApply: false
---
